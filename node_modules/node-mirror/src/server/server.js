//>>built
require({cache:{"dojo/node":function(){define(["./has"],function(a){var b;if(require.nodeRequire)b=require.nodeRequire("path");else throw Error("node plugin failed to load because it cannot find the original Node.js require");return{load:function(b,a,h){if(!a.nodeRequire)throw Error("Cannot find native require function");a=a.nodeRequire;var c=define,g;define=void 0;try{g=a(b)}finally{define=c}h(g)},normalize:function(a,f){if("."===a.charAt(0)){var h=require.toUrl(f(".")).replace("/",b.sep),c=a.split("/");
c.unshift(h);a=b.join.apply(b,c)}return a}}})},"main/remoteCaller":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/json"],function(a,b,e){return new (a([],{classes:{},call:function(a,h){for(var c={declaredClass:a,fName:h,args:[]},g=2;g<arguments.length;)c.args.push(arguments[g]),++g;var d=new b;require(["dojo/request/xhr"],function(a){a("/apicall",{data:e.stringify(c),method:"PUT",handleAs:"json",headers:{"Content-Type":"application/json"}}).then(function(a){d.resolve(a.result)},function(a){d.reject(a)})});
return d},add:function(a){this.classes[a.declaredClass]=a},serverCall:function(a){var b=[];a.args&&(b=a.args);var c=this.classes[a.declaredClass];return c[a.fName].apply(c,b)}}))({})})},"main/treeItems":function(){define("dojo/_base/declare main/_RemoteCall dojo/Deferred main/config!node-mirror dojo/_base/array sol/fileName sol/promise dojo/_base/lang main/nameTranslator main/serverOnly!server/files".split(" "),function(a,b,e,f,h,c,g,d,l,m){var k;return k=new (a("treeItems",[b],{remoteFunctions:{getRootDef:!0,
getChildrenDef:!0,getItemDef:!0},getRootDef:function(){return k.getItemDef("")},getItemDef:function(a){var b=new e,r={id:a,name:""===a?c.single(f.dir):c.single(a)};m.dirsDef(l.fileName(a)).then(function(a){r.hasChildren=!!a;b.resolve(r)});return b},getChildrenDef:function(a){var c=new e;m.dirsDef(f.dir+a).then(function(a){if(a){var p=[];g.allDone(h.map(a,function(a){return k.getItemDef(l.reduceName(a)).then(d.hitch(p,"push"))})).then(function(){c.resolve(p)},function(){})}else c.resolve()});return c}}))})},
"main/_RemoteCall":function(){define(["dojo/_base/declare","dojo/has","main/remoteCaller","dojo/_base/lang"],function(a,b,e,f){return a("_RemoteCall",[],{constructor:function(a){e.add(this)},remoteFunctions:{}})})},"main/config":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/lang dojo/has ./config/load!node-mirror main/_RemoteCall dojo/Deferred".split(" "),function(a,b,e,f,h,c,g){var d;return d=new (a("Config",[c],{remoteFunctions:{loadClientConfig:!0,clientSetConfig:!0},clientConfig:{theme:!0},
saveable:{theme:!0},constructor:function(){e.mixin(this,h);this.config=h},set:function(a,c){try{this.config[a]=c,this.saveable[a]&&h.set(a,c),h[a]=c}catch(b){}},set2:function(a,c){try{this.config[a]=c,this.saveable[a]&&h.set(a,c),h[a]=c}catch(b){}},clientSetConfig:function(a,c){var b=new g;this.clientConfig[a]&&this.set2(a,c);b.resolve();return b},get:function(a){var c=new g;c.resolve(this.config[a]);return c},load:function(a,c,b){b(d)},loadClientConfig:function(){var a=new g,c={},b;for(b in this.clientConfig)c[b]=
h[b];a.resolve(c);return a}}))})},"main/config/load":function(){define(["dojo/_base/declare","dojo/_base/config","dojo/_base/lang","dojo/has"],function(a,b,e,f){return{load:function(a,c,g){var d=b.nodeMirrorNodeModule,l=d.getConfig();l.dir||(l.dir=d.getProcessDir());c(["dojo/node!runtime-configuration"],function(c){var b=c(a,{port:3E3,theme:"monokai"},function(a,c){a||(e.mixin(l,c),l.set=function(a,c){b.set(a,c);b.save("ini")},g(l))})})}}})},"sol/fileName":function(){define(["dojo/_base/declare",
"dojo/_base/array","dojo/_base/lang"],function(a,b,e,f){return new (a("File",[],{single:function(a){a=a.split("/");return a[a.length-1]},dir:function(a){a=a.split("/");for(var c="",b=0,b=0;b<a.length-1;++b)c+=a[b],c+="/";return c}}))})},"sol/promise":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/array","dojo/promise/all","dojo/_base/lang"],function(a,b,e,f,h){return new (a("SolPromise",[],{_isPromise:function(a){return a&&"function"===typeof a.then},_parseParameter:function(a){var b,
d;a instanceof Array?d=a:a&&"object"===typeof a&&(b=a);if(b){d=[];for(var e in b)Object.hasOwnProperty.call(b,e)&&this._isPromise(b[e])&&d.push(b[e])}if(d)return d},allDone:function(a){ar=this._parseParameter(a);if(!ar||!ar.length)return(new b).resolve(a);var g=new b,d=ar.length,f=function(){0===--d&&g.resolve(a)};e.forEach(ar,function(a,b){a.then(f,f)});return g.promise}}))})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(a,b,e){var f=a.some;return function(a){var c,
g;a instanceof Array?g=a:a&&"object"===typeof a&&(c=a);var d,l=[];if(c){g=[];for(var m in c)Object.hasOwnProperty.call(c,m)&&(l.push(m),g.push(c[m]));d={}}else g&&(d=[]);if(!g||!g.length)return(new b).resolve(d);var k=new b;k.promise.always(function(){d=l=null});var n=g.length;f(g,function(a,b){c||l.push(b);e(a,function(a){k.isFulfilled()||(d[l[b]]=a,0===--n&&k.resolve(d))},k.reject);return k.isFulfilled()});return k.promise}})},"main/nameTranslator":function(){define(["dojo/_base/declare","main/config",
"dojo/has"],function(a,b,e){var f=0,h,f=b.dir.length;if("win32"==process.platform||"win64"==process.platform)h=!0;return new (a("NameTranslator",[],{reduceName:function(a){return h?a.substr(f).replace("\\","/"):a.substr(f)},fileName:function(a){return h?b.dir+a.replace("/","\\"):b.dir+a}}))})},"main/serverOnly":function(){define(["dojo/has"],function(a){return{load:function(a,e,f){e([a],f)}}})},"server/files":function(){define("dojo/_base/declare dojo/Deferred dojo/node!fs dojo/_base/array dojo/promise/all dojo/_base/lang sol/promise dojo/node!mime-magic dojo/node!mime sol/string".split(" "),
function(a,b,e,f,h,c,g,d,l,m){var k={".pl":"application/promiseLand",".pegjs":"application/peg.js",".less":"text/x-less"},n={".pl":"application/promiseLand",".pegjs":"application/peg.js",".less":"text/x-less"},q;return q=new (a("File",[],{remoteFunctions:{},dirsDef:function(a){var c=new b;e.stat(a,function(b,t){b||!t.isDirectory()?c.resolve():e.readdir(a,function(b,t){if(b)c.resolve();else{var d=[];g.allDone(f.map(t,function(b){filename=a+"/"+b;return q.isDirDef(filename).then(function(a){d.push(a)})})).then(function(){c.resolve(d)})}})});
return c.promise},childrenDef:function(a){var c=new b;q.isDirDef(a).then(function(){e.readdir(a,function(b,d){b?c.resolve():c.resolve(f.map(d,function(b){return a+"/"+b}))})},function(){c.resolve()});return c.promise},isDirDef:function(a){var c=new b;e.stat(a,function(b,d){d.isDirectory()&&c.resolve(a);c.reject(a)});return c.promise},contentTypeDef:function(a){var c=new b;d(a,function(b,d){b?c.reject(b):e.stat(a,function(b,e){try{if(b)c.reject(b);else{var g=!1;!e.isDirectory()&&0===e.size&&(g=!0);
"inode/x-empty"==d&&(g=!0);var f;if("text/plain"==d||g){for(f in k)if(a.substr(a.length-f.length)==f){d=k[f];c.resolve(d);return}d=l.lookup(a)}else if(m.startsWith(d,"text/"))for(f in n)if(m.endsWith(a,f)){d=k[f];c.resolve(d);return}c.resolve(d)}}catch(q){}})});return c.promise},readTextDef:function(a){var c=new b;e.readFile(a,{encoding:"utf8"},function(a,b){"object"==typeof b?c.resolve(b.toString()):"string"==typeof b?c.resolve(b):c.resolve("file could not be read")});return c.promise},createFileDef:function(a){var c=
new b;e.open(a,"a",void 0,function(a,b){a?c.reject(a):b?e.close(b,function(){c.resolve()}):c.resolve()});return c.promise},createDirDef:function(a){var c=new b;e.mkdir(a,void 0,function(b){b?c.reject(b):c.resolve(a)});return c.promise},writeTextDef:function(a,c){var d=new b;e.writeFile(a,c,{encoding:"utf8"},function(a,b){d.resolve()});return d.promise}}))})},"sol/string":function(){define([],function(){return{endsWith:function(a,b){return a.substr(a.length-b.length)==b?!0:!1},startsWith:function(a,
b){return a.substr(0,b.length)==b?!0:!1},cutEnd:function(a,b){return a.substr(0,a.length-b)},cutStart:function(a,b){return a.substr(b)}}})},"main/contentIO":function(){define("dojo/_base/declare main/_RemoteCall dojo/Deferred dojo/_base/array sol/fileName sol/promise dojo/_base/lang main/nameTranslator main/modules main/serverOnly!server/files main/moduleLoader!server".split(" "),function(a,b,e,f,h,c,g,d,l,m,k){return new (a("ContentIO",[b],{remoteFunctions:{getContentDef:!0},getContentDef:function(a){var b=
new e,c=g.hitch(b,"reject"),f=d.fileName(a.id);m.contentTypeDef(f).then(function(d){a.contentType=d;k.findModulePs(a).then(function(d){try{d.getContentPs(a).then(function(c){b.resolve({content:c,par:a,moduleId:d.getModuleId()})},c)}catch(e){c()}},c)});return b}}))})},"main/modules":function(){define([],function(){return"modules/Binary modules/Directory modules/Text modules/Html modules/Less modules/Peg".split(" ")})},"main/moduleLoader":function(){define("main/modules dojo/_base/array dojo/Deferred dojo/_base/declare main/_RemoteCall dojo/_base/lang".split(" "),
function(a,b,e,f,h,c){moduleLoader=new (f([],{modules:[],namedModules:{},register:function(a,b){this.modules.push(a);this.namedModules[b]=a},getModule:function(a){return this.namedModules[a]},findModulePs:function(a){var b=new e,f=this.modules.length;if(a.force)try{var h=this.getModule(a.force);if(h)return b.resolve(h),b}catch(k){}var n;n=c.hitch(this,function(){if(f){--f;var c;try{c=this.modules[f],c.isCompetentPs(a).then(function(){b.resolve(c)},n)}catch(e){n()}}else b.reject()});n();return b}}));
return{load:function(c,d,e){d(a,function(){b.forEach(arguments,function(b,c){var d=a[c],e=new (f(d,[h,b],{buildRendering:function(){}}));e.ModuleClass=b;e.moduleId=d;moduleLoader.register(e,d)});e(moduleLoader)})}}})},"main/nodeControl":function(){define("dojo/_base/declare main/_RemoteCall dojo/Deferred main/config!node-mirror dojo/_base/array sol/promise dojo/_base/lang dojo/has".split(" "),function(a,b,e,f,h,c,g,d){return new (a("NodeControl",[b],{remoteFunctions:{restartDef:!0},restartDef:function(){var a=
new e;setTimeout(function(){f.restartableObj&&f.restartableObj.isRestartable&&f.restartableObj.restart()},10);a.resolve({});return a.promise}}))})},"main/codemirror/subtypes":function(){define(["./meta","dojo/_base/array"],function(a,b){var e={};b.forEach(a,function(a){e[a.mime.split("/")[1]]=!0});return e})},"main/codemirror/meta":function(){(function(a,b){if("function"==typeof define)define(a,b);else{for(var e=[],f=0,f=0;f<a.length;++f)e.push(require(a[f]));module.exports=b.apply(void 0,e)}})(["main/codemirror/fake"],
function(a){a.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl"},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk"},{name:"C",mime:"text/x-csrc",mode:"clike"},{name:"C++",mime:"text/x-c++src",mode:"clike"},{name:"Cobol",mime:"text/x-cobol",mode:"cobol"},{name:"Java",mime:"text/x-java",mode:"clike"},{name:"C#",mime:"text/x-csharp",mode:"clike"},{name:"Scala",mime:"text/x-scala",mode:"clike"},{name:"Clojure",mime:"text/x-clojure",mode:"clojure"},{name:"CoffeeScript",mime:"text/x-coffeescript",
mode:"coffeescript"},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp"},{name:"CSS",mime:"text/css",mode:"css"},{name:"D",mime:"text/x-d",mode:"d"},{name:"diff",mime:"text/x-diff",mode:"diff"},{name:"ECL",mime:"text/x-ecl",mode:"ecl"},{name:"Erlang",mime:"text/x-erlang",mode:"erlang"},{name:"Gas",mime:"text/x-gas",mode:"gas"},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm"},{name:"GO",mime:"text/x-go",mode:"go"},{name:"Groovy",mime:"text/x-groovy",mode:"groovy"},{name:"Haskell",
mime:"text/x-haskell",mode:"haskell"},{name:"Haxe",mime:"text/x-haxe",mode:"haxe"},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded"},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded"},{name:"JavaServer Pages",mime:"application/x-jsp",mode:"htmlembedded"},{name:"HTML",mime:"text/html",mode:"htmlmixed"},{name:"HTTP",mime:"message/http",mode:"http"},{name:"Jade",mime:"text/x-jade",mode:"jade"},{name:"JavaScript",mime:"text/javascript",mode:"javascript"},{name:"JSON",
mime:"application/x-json",mode:"javascript"},{name:"JSON",mime:"application/json",mode:"javascript"},{name:"TypeScript",mime:"application/typescript",mode:"javascript"},{name:"Jinja2",mime:"jinja2",mode:"jinja2"},{name:"LESS",mime:"text/x-less",mode:"less"},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript"},{name:"Lua",mime:"text/x-lua",mode:"lua"},{name:"Markdown (GitHub-flavour)",mime:"text/x-markdown",mode:"markdown"},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"Nginx",mime:"text/x-nginx-conf",
mode:"nginx"},{name:"NTriples",mime:"text/n-triples",mode:"ntriples"},{name:"OCaml",mime:"text/x-ocaml",mode:"ocaml"},{name:"Pascal",mime:"text/x-pascal",mode:"pascal"},{name:"Perl",mime:"text/x-perl",mode:"perl"},{name:"PHP",mime:"text/x-php",mode:"php"},{name:"PHP(HTML)",mime:"application/x-httpd-php",mode:"php"},{name:"Pig",mime:"text/x-pig",mode:"pig"},{name:"Plain Text",mime:"text/plain",mode:"null"},{name:"Properties files",mime:"text/x-properties",mode:"clike"},{name:"Python",mime:"text/x-python",
mode:"python"},{name:"Cython",mime:"text/x-cython",mode:"python"},{name:"R",mime:"text/x-rsrc",mode:"r"},{name:"reStructuredText",mime:"text/x-rst",mode:"rst"},{name:"Ruby",mime:"text/x-ruby",mode:"ruby"},{name:"Rust",mime:"text/x-rustsrc",mode:"rust"},{name:"Sass",mime:"text/x-sass",mode:"sass"},{name:"Scheme",mime:"text/x-scheme",mode:"scheme"},{name:"SCSS",mime:"text/x-scss",mode:"css"},{name:"Shell",mime:"text/x-sh",mode:"shell"},{name:"Sieve",mime:"application/sieve",mode:"sieve"},{name:"Smalltalk",
mime:"text/x-stsrc",mode:"smalltalk"},{name:"Smarty",mime:"text/x-smarty",mode:"smarty"},{name:"SmartyMixed",mime:"text/x-smarty",mode:"smartymixed"},{name:"SPARQL",mime:"application/x-sparql-query",mode:"sparql"},{name:"SQL",mime:"text/x-sql",mode:"sql"},{name:"MariaDB",mime:"text/x-mariadb",mode:"sql"},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex"},{name:"Tcl",mime:"text/x-tcl",mode:"tcl"},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},
{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"VB.NET",mime:"text/x-vb",mode:"vb"},{name:"VBScript",mime:"text/vbscript",mode:"vbscript"},{name:"Velocity",mime:"text/velocity",mode:"velocity"},{name:"Verilog",mime:"text/x-verilog",mode:"verilog"},{name:"XML",mime:"application/xml",mode:"xml"},{name:"HTML",mime:"text/html",mode:"xml"},{name:"XQuery",mime:"application/xquery",mode:"xquery"},{name:"YAML",mime:"text/x-yaml",mode:"yaml"},{name:"Z80",mime:"text/x-z80",mode:"z80"}];return a.modeInfo})},
"modules/Text":function(){define("dojo/_base/declare modules/base/BorderContainer dojo/Deferred dojo/has sol/promise dojo/_base/array dojo/_base/lang main/serverOnly!server/files main/codemirror/subtypes sol/string main/clientOnly!sol/wgt/CodeMirror main/clientOnly!codemirror/theme/all main/clientOnly!dijit/form/Select main/config main/clientOnly!codemirror/mode/allModes main/clientOnly!codemirror/addon/dialog/dialog main/clientOnly!codemirror/addon/search/search main/clientOnly!codemirror/addon/search/searchcursor main/clientOnly!codemirror/addon/edit/matchbrackets".split(" "),
function(a,b,e,f,h,c,g,d,l,m,k,n,q,r){var p={"peg.js":!0,"x-empty":!0},s={"inode/x-empty":!0};return a([b],{"class":"content text",saveButton:!0,reloadButton:!0,downloadButton:!0,binaryModeButton:!0,isCompetentPs:function(a){var b=this.def(),c=!1;m.startsWith(a.contentType,"text/")&&(c=!0);if(!c&&m.startsWith(a.contentType,"application/")){var d=a.contentType.split("/")[1];if(l[d]||p[d])c=!0}c||s[a.contentType]&&(c=!0);c?b.resolve():b.reject();return b},getContentPs:function(a){var b=new e,c={},f=
this.def(),r=this.def();d.readTextDef(this.getFileName(a.id)).then(function(a){c.text=a;f.resolve(c)});d.contentTypeDef(this.getFileName(a.id)).then(function(a){c.contentType=a;r.resolve(c)});h.allDone([f,r]).then(g.hitch(b,"resolve",c));return b},saveContentPs:function(a,b){return d.writeTextDef(this.getFileName(a.id),b.text)},buildRendering:function(){var a=this.inherited(arguments);this.themeSelect=this.ownObj(new q({options:c.map(n,function(a){return{label:a,value:a}}),onChange:g.hitch(this,"changeTheme")}));
this.menu.addChild(this.themeSelect);this.mirror=this.ownObj(new k({region:"center",value:this.content.text,mode:this.par.contentType,lineNumbers:!0,theme:"twilight",matchBrackets:!0}));this.addChild(this.mirror);this.mirror.on("change",g.hitch(this,function(){this._started&&this.set("dirty",!0)}));r.get("theme").then(g.hitch(this,function(a){this.mirror.set("theme",a);this.themeSelect.set("value",a)}));return a},changeTheme:function(){this.mirror.set("theme",this.themeSelect.get("value"));r.set("theme",
this.themeSelect.get("value"))},_setContentAttr:function(a){this._set("content",a);this.mirror&&(this.mirror.set("value",this.content.text),this.mirror.set("mode",this.content.contentType))},_getContentAttr:function(){this.mirror&&(this.content.text=this.mirror.get("value"));return this.content}})})},"modules/base/BorderContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","main/clientOrStub!dijit/layout/BorderContainer","main/clientOrStub!./WidgetMixin","modules/base/Base"],function(a,
b,e,f,h){return a([h,e,f],{"class":"content",gutters:!1,showMenu:!0,buildRendering:function(){return this.inherited(arguments)}})})},"main/clientOrStub":function(){define(["dojo/has","dojo/_base/declare"],function(a,b){var e=b([],{});return{load:function(a,b,c){c(e)}}})},"modules/base/Base":function(){define(["dojo/_base/declare","dojo/Deferred","main/_RemoteCall","main/nameTranslator","dojo/_base/lang"],function(a,b,e,f,h){e={getContentPs:!0,saveContentPs:!0};a=a([],{WidgetClass:void 0,remoteFunctions:e,
def:function(){return new b},isCompetentPs:function(a){a=this.def();a.reject();return a},getContentPs:function(a){a=this.def();a.reject();return a},saveContentPs:function(a,b){var d=this.def();d.reject();return d},getWidgetClassPs:function(a){a=this.def();a.resolve(this.WidgetClass||this.ModuleClass);return a},createWidgetPs:function(a){var b=this.def();this.getWidgetClassPs(a).then(h.hitch(this,function(d){if(d){var e={createWidgetPs:h.hitch(this,"createWidgetPs"),isCompetentPs:h.hitch(this,"isCompetentPs"),
getContentPs:h.hitch(this,"getContentPs"),saveContentPs:h.hitch(this,"saveContentPs"),moduleId:this.getModuleId()},f;for(f in this.remoteFunctions)e[f]=h.hitch(this,f);b.resolve(new d(h.mixin(e,a)))}else b.reject()}));return b},getFileName:function(a){return f.fileName(a)},getModuleId:function(){return this.moduleId}});a.remoteFunctions=e;return a})},"main/clientOnly":function(){define(["dojo/has"],function(a){return{load:function(a,e,f){f(void 0)}}})},"modules/Directory":function(){define("dojo/_base/declare modules/base/Base modules/base/BorderContainer dojo/Deferred dojo/has sol/promise dojo/_base/array main/nameTranslator main/serverOnly!server/files main/clientOnly!./directory/Grid main/clientOnly!./directory/NewDlg main/clientOnly!dijit/form/Button dojo/_base/lang".split(" "),
function(a,b,e,f,h,c,g,d,l,m,k,n,q){return a([e],{remoteFunctions:q.mixin({},b.remoteFunctions,{createFilePs:!0}),reloadButton:!0,downloadButton:!0,isCompetentPs:function(a){var b=this.def();"inode/directory"==a.contentType?b.resolve():b.reject();return b},getContentPs:function(a){var b=this.def();a=this.getFileName(a.id);l.childrenDef(a).then(function(a){var e={children:[]};c.allDone(g.map(a,function(a){var b={type:"file",id:d.reduceName(a)};e.children.push(b);return l.contentTypeDef(a).then(function(a){b.contentType=
a})})).then(function(){b.resolve(e)})});return b},createFilePs:function(a,b,c){var e=this.def(),f=function(a){e.reject()},g=a.id+"/"+b;if(!b||!b.length)e.reject();else return a=d.fileName(g),b=q.hitch(this,function(){try{require(["main/contentIO"],function(a){try{a.getContentDef({type:"file",id:g}).then(function(a){e.resolve(a)},function(a){})}catch(b){e.reject()}})}catch(a){e.reject()}}),c?l.createDirDef(a).then(b,f):l.createFileDef(a).then(b,f),e.promise},downloadbutton:!0,reloadbutton:!0,buildRendering:function(){var a=
this.inherited(arguments);this.newDirButton=this.ownObj(new n({label:"new Directory",showLabel:!0,onClick:q.hitch(this,"createNew",!0),region:"left"}));this.menu.addChild(this.newDirButton);this.newButton=this.ownObj(new n({label:"new File",showLabel:!0,onClick:q.hitch(this,"createNew",!1),region:"left"}));this.menu.addChild(this.newButton);this.grid=this.ownObj(new m({content:this.content,mainWgt:this}));this.addChild(this.grid);return a},_setContentAttr:function(a){this._set("content",a);this.grid.set("content",
a);this.grid.doRender()},createNew:function(a){a=new k({newDir:a,parent:this});a.startup();a.show()}})})},"modules/Binary":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/lang sol/promise dojo/_base/array main/serverOnly!server/files sol/string modules/base/Base modules/base/BorderContainer main/serverOnly!dojo/node!fs main/clientOnly!./binary/HexGrid".split(" "),function(a,b,e,f,h,c,g,d,l,m,k){return a([l],{remoteFunctions:e.mixin({},d.remoteFunctions,{readLinesPs:!0}),"class":"content binary",
saveButton:!0,reloadButton:!0,downloadButton:!0,textModeButton:!0,buildRendering:function(){var a=this.inherited(arguments);this.hexGrid=this.ownObj(new k({fileId:this.par.id,region:"center",parent:this}));this.addChild(this.hexGrid);return a},isCompetentPs:function(a){var b=this.def();"inode/directory"==a.contentType?b.reject():b.resolve();return b},getContentPs:function(a){a=this.def();a.resolve({isBin:!0});return a},_getContentAttr:function(){return this.hexGrid.getSaveData()},savePs:function(){var a=
this.inherited(arguments);a.then(e.hitch(this.hexGrid,"resetEdited"));return a},saveContentPs:function(a,c){var d=new b,e=this.getFileName(a.id);m.open(e,"r+",function(a,b){if(a)d.reject();else{var e=0,f=0,g=[],h,k=function(){var c=g.length,k=16*f;e=f=0;if(!c)return h();var l=new Buffer(g);m.write(b,l,0,c,k,function(){a?d.reject():(g=[],h())})};h=function(){if(c.length){for(;c.length;){var a=c[0];if(a.lineNr!=e){if(g.length)return k();f=a.lineNr}c.shift();e=a.lineNr+1;g=g.concat(a.data);if(16!=a.data.length)return k()}k()}else m.close(b,
function(){d.resolve()})};h()}});return d},readLinesPs:function(a,c){var d=new b,e=this.getFileName(a);m.open(e,"r",function(a,b){if(a)d.reject();else{var e=c.count||1,f=16*e,g=c.start||0,g=16*g,h=new Buffer(f);m.read(b,h,0,f,g,function(a,f,g){if(a)d.reject();else{var h=[];for(a=0;a<e;++a){for(var k=16*a,l={lineNr:c.start+a,data:[]},p=0;16>p;++p)f&&(--f,l.data[p]=g[k+p]);h.push(l)}m.close(b,function(){d.resolve(h)})}})}});return d}})})},"modules/Less":function(){define("dojo/_base/declare modules/base/Base modules/Text dojo/Deferred dojo/has sol/promise dojo/_base/array dojo/_base/lang sol/string main/clientOnly!./less/Tester main/clientOnly!dijit/form/Button main/serverOnly!dojo/node!less sol/fileName main/serverOnly!server/files main/clientOnly!sol/wgt/Iframe main/clientOnly!dojo/dom-style main/clientOnly!dojo/dom-construct main/clientOnly!dojo/dom-geometry".split(" "),
function(a,b,e,f,h,c,g,d,l,m,k,n,q,r,p,s,t,u){var v={less:!0,"x-less":!0},w={};return a([e],{remoteFunctions:d.mixin({},b.remoteFunctions,{testPs:!0}),"class":"content text less",isCompetentPs:function(a){var b=this.def(),c=!1,d=a.contentType.split("/")[1];v[d]&&(c=!0);c||w[a.contentType]&&(c=!0);c?b.resolve():b.reject();return b},buildRendering:function(){var a=this.inherited(arguments);this.testBtn=this.ownObj(new k({onClick:d.hitch(this,"test"),label:"test"}));this.menu.addChild(this.testBtn);
this.referenceBtn=this.ownObj(new k({onClick:d.hitch(this,"reference"),label:"Reference"}));this.menu.addChild(this.referenceBtn);return a},reference:function(){this.referenceFrame&&this.showingReference?(this.showingReference=!1,this._frameBox=u.getMarginBox(this.referenceFrame.domNode),this._frameBox2=u.getMarginBox(this.referenceFrame._splitterWidget.domNode),s.set(this.referenceFrame.domNode,"height","0px"),s.set(this.referenceFrame.domNode,"border","0px"),s.set(this.referenceFrame._splitterWidget.domNode,
"height","0px"),this.resize()):(this.showingReference=!0,this.referenceFrame?(u.setMarginBox(this.referenceFrame.domNode,{h:this._frameBox.h}),u.setMarginBox(this.referenceFrame._splitterWidget.domNode,{h:this._frameBox2.h}),this.resize()):(this.referenceFrame=this.ownObj(new p({"class":"referenceFrame",src:"http://lesscss.org/#reference",region:"top",splitter:!0})),this.addChild(this.referenceFrame)))},test:function(){this.tester||(this.tester=this.ownObj(new m({parent:this})),this.addChild(this.tester));
this.testPs(this.par,this.mirror.get("value")).then(d.hitch(this,function(a){this.tester.set("value",a)}))},testPs:function(a,b){var c=this.def();(new n.Parser({paths:[this.getFileName(q.dir(a.id))],filename:q.single(a.id)})).parse(b,function(a,b){a?c.resolve("error"):c.resolve(b.toCSS())});return c},saveContentPs:function(a,b){var d=this.inherited(arguments),e=this.def();try{var f=this.getFileName(a.id);l.endsWith(f,".less")&&(f=f.substr(0,f.length-5));f+=".css";this.testPs(a,b.text).then(function(a){r.writeTextDef(f,
a).then(function(){e.resolve()})})}catch(g){}return c.allDone([d,e])}})})},"modules/Html":function(){define("dojo/_base/declare modules/Text dojo/Deferred dojo/has sol/promise dojo/_base/array dojo/_base/lang sol/string main/clientOnly!./html/Tester main/clientOnly!dijit/form/Button".split(" "),function(a,b,e,f,h,c,g,d,l,m){var k={html:!0},n={};return a([b],{"class":"content text html",isCompetentPs:function(a){var b=this.def(),c=!1,d=a.contentType.split("/")[1];k[d]&&(c=!0);c||n[a.contentType]&&
(c=!0);c?b.resolve():b.reject();return b},buildRendering:function(){var a=this.inherited(arguments);this.testBtn=this.ownObj(new m({onClick:g.hitch(this,"test"),label:"test"}));this.menu.addChild(this.testBtn);return a},test:function(){this.tester||(this.tester=this.ownObj(new l({parent:this})),this.addChild(this.tester),this.mirror.on("change",g.hitch(this,function(){this.tester.codeChanged()})));this.tester.test()}})})},"modules/Peg":function(){define("dojo/_base/declare modules/Text dojo/Deferred dojo/has sol/promise dojo/_base/array dojo/_base/lang sol/string main/clientOnly!./peg.js/Parser main/clientOnly!dijit/form/Button".split(" "),
function(a,b,e,f,h,c,g,d,l,m){var k={"peg.js":!0,pegjs:!0},n={};return a([b],{"class":"content text pegjs",isCompetentPs:function(a){var b=this.def(),c=!1,d=a.contentType.split("/")[1];k[d]&&(c=!0);c||n[a.contentType]&&(c=!0);c?b.resolve():b.reject();return b},buildRendering:function(){var a=this.inherited(arguments);this.parseBtn=this.ownObj(new m({onClick:g.hitch(this,"parse"),label:"parse"}));this.menu.addChild(this.parseBtn);return a},parse:function(){this.parser||(this.parser=this.ownObj(new l({parent:this})),
this.addChild(this.parser),this.mirror.on("change",g.hitch(this,function(){this.parser.parserCodeChanged()})));this.parser.parse()}})})},"main/codemirror/fake":function(){define([],function(){return{}})}}});
define("server/server","dojo/node!express dojo/node!mime-magic dojo/node!socket.io dojo/node!http dojo/has dojo/node!fs".split(" "),function(a,b,e,f,h,c){require("main/remoteCaller main/treeItems server/files main/nameTranslator sol/fileName main/contentIO main/nodeControl dojo/node!easy-zip main/config".split(" "),function(b,d,e,h,k,n,q,r,p){EasyZip=r.EasyZip;d=a();n=f.createServer(d);p.username&&d.use(a.basicAuth(p.username,p.password));d.use(a.bodyParser());d.put("/apicall",function(a,c){b.serverCall(a.body).then(function(a){c.send({result:a})})});
d.get("/download",function(a,b){var d=h.fileName(a.query.id);e.contentTypeDef(d).then(function(a){if("inode/directory"==a){var e=new EasyZip;e.zipFolder(d,function(){b.setHeader("Content-Disposition",'attachment; filename\x3d"'+k.single(d)+'.zip"');e.writeToResponse(b,k.single(d)+".zip");b.end()})}else b.setHeader("Content-Type",a),c.readFile(d,function(a,c){a?b.end():(b.setHeader("Content-Length",c.length),b.setHeader("Content-Disposition",'attachment; filename\x3d"'+k.single(d)+'"'),b.end(c))})})});
d.use(a["static"](p["static"]));d.get("/",function(a,b){b.setHeader("Content-Type","text/html");c.readFile(p["static"]+"/index.html",function(a,c){a?b.end(a):b.end(c)})});n.listen(p.port)})});
//@ sourceMappingURL=server.js.map